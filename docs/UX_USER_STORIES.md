# UX 改善 - ユーザーストーリー

このドキュメントは、[USE_CASES.md](./USE_CASES.md) の MECE 分析に基づいて、Voice Agent アプリのユーザーストーリーを定義します。

## 基本ユーザーストーリー

### ストーリー 1: 初回ユーザーのオンボーディング

**As a** 初めてアプリを使うユーザー（H1）  
**I want to** 目的と環境に応じた推奨設定でアプリを使い始められる  
**So that** 迷わずに音声会話を開始できる

**受け入れ基準:**

- 接続前に、目的選択（会議アシスタント / 音声メモ / その他）ができる
- 環境確認（静かな環境 / ノイズ環境 / 会議中）ができる
- 目的と環境に基づいた推奨設定が提示される
- 推奨設定のプレビューが表示される
- 接続ボタンが大きく、目立つ場所にある
- アプリの目的と基本的な使い方が表示される

**関連ユースケース**: UC1, UC2, UC3, UC4, UC5, UC6, UC7

### ストーリー 2: 接続前の設定確認

**As a** ユーザー  
**I want to** 接続前に重要な設定を確認・変更できる  
**So that** 接続後に問題が発生しない

**受け入れ基準:**

- マイクの選択状態が表示される
- 入力モード（Always On/PTT/Toggle）が表示される
- システムプロンプトが設定されているか確認できる
- システムオーディオキャプチャの状態が表示される
- クイック設定変更が可能
- 詳細設定へのアクセスが可能（必要時のみ）

**関連ユースケース**: 全ユースケース

### ストーリー 3: 接続中の状態把握

**As a** ユーザー  
**I want to** 現在の接続状態とアクティビティを一目で把握できる  
**So that** 適切に操作できる

**受け入れ基準:**

- 接続状態が視覚的に明確に表示される
- マイク状態（Always On / PTT / Toggle）が表示される
- AI が話しているかどうかが分かる（AI 話し中インジケーター）
- システムオーディオキャプチャ状態が表示される
- 音声レベル表示（マイク）が表示される
- 会話履歴が自動的に表示される

**関連ユースケース**: 全ユースケース

### ストーリー 4: 会話履歴の確認

**As a** ユーザー  
**I want to** 会話履歴を簡単に確認・参照できる  
**So that** 過去の会話を参照できる

**受け入れ基準:**

- 接続中は会話履歴が自動的に表示される
- 会話履歴が空の時は適切なメッセージが表示される
- 会話履歴のスクロールがスムーズ
- 会話履歴を最小化・最大化できる（必要時のみ表示）
- 長時間セッションでは検索・フィルタ機能が利用できる（UC8）

**関連ユースケース**: 全ユースケース（8/8 で使用）

### ストーリー 5: エラー時のリカバリー

**As a** ユーザー  
**I want to** エラーが発生した時に、どう対処すべきか分かる  
**So that** 問題を解決できる

**受け入れ基準:**

- エラーメッセージが分かりやすい
- エラー解決のためのアクションが提示される
- エラーを解消するためのボタンが提供される
- エラー状態が視覚的に明確に表示される

**関連ユースケース**: 全ユースケース

---

## ユースケース別ユーザーストーリー

### ストーリー UC1: 会議アシスタント（文字起こし・要約）

**As a** ビジネスパーソン（G2, H2）  
**I want to** Zoom/Teams 会議の音声をリアルタイムで文字起こし・要約できる  
**So that** 会議内容を後で確認・把握できる

**受け入れ基準:**

- 接続前に「システムオーディオキャプチャ」が大きく表示される
- システムプロンプトのプリセット（「会議要約」）が提供される
- システムオーディオキャプチャが簡単に有効化できる
- 会話履歴が常に表示される（折りたたみ可能）
- 会議終了後、会話履歴から要点を把握できる

**MECE 定義**: (A3, E3, G2, J2+K2)

### ストーリー UC2: 音声メモ・タスク管理

**As a** ビジネスパーソンまたは一般ユーザー（G2/G4, H2）  
**I want to** 作業中にアイデアやタスクを音声で記録・整理できる  
**So that** 手が離せない状況でもメモを取れる

**受け入れ基準:**

- 接続ボタンが最大限に大きく表示される（ワンクリックで開始）
- Always On モードがデフォルトで選択される
- 会話履歴が常に表示される
- システムプロンプトのプリセット（「タスク管理」）が提供される
- AI にタスクを整理・優先順位付けしてもらえる

**MECE 定義**: (B2, E1, G2/G4, I1+J1+K1/K2)

### ストーリー UC3: 会議中のリアルタイムアシスタント

**As a** ビジネスパーソン（G2, H3）  
**I want to** 会議中に AI に質問・相談できる  
**So that** 会議の流れを妨げずに情報を得られる

**受け入れ基準:**

- PTT 状態が明確に表示される（「Space キーを押して話す」）
- システムオーディオ + マイクミキシングが簡単に有効化できる
- システムオーディオキャプチャ状態が表示される
- カスタマイズシステムプロンプト（会議アシスタント用）が提供される
- 会話履歴は最小化できる（必要時のみ表示）

**MECE 定義**: (C1, E3, G2, J3+I2+K2)

### ストーリー UC4: アクセシビリティ・ハンズフリー操作

**As a** アクセシビリティニーズを持つユーザー（G3, H2）  
**I want to** 音声のみでアプリを操作できる  
**So that** キーボードやマウス操作が困難でも使える

**受け入れ基準:**

- 接続ボタンが大きく、明確に表示される
- Always On モードがデフォルトで選択される
- 音声フィードバック（接続状態を音声で通知）が提供される
- シンプルな UI（余計な要素を削減）
- キーボードナビゲーション対応
- 会話履歴が常に表示される

**MECE 定義**: (B1, E1, G3, I1+J1+K1)

### ストーリー UC5: リアルタイム翻訳アシスタント

**As a** ビジネスパーソンまたは一般ユーザー（G2/G4, H2）  
**I want to** 外国語の会話をリアルタイムで翻訳できる  
**So that** 多言語コミュニケーションができる

**受け入れ基準:**

- システムプロンプトのプリセット（「翻訳アシスタント」）が提供される
- 会話履歴で翻訳前後の対比が表示される
- 言語選択を簡単に切り替えられる
- 会議中の翻訳（システムオーディオ）または直接会話（マイク）が選択できる

**MECE 定義**: (A2, E1/E3, G2/G4, I1+J1/J2+K2)

### ストーリー UC6: カスタマーサポート・FAQ 対応

**As a** ビジネスパーソン（G2, H3）  
**I want to** カスタマイズシステムプロンプトで FAQ 知識を設定できる  
**So that** 顧客対応や FAQ 回答を効率化できる

**受け入れ基準:**

- システムプロンプトのプリセット（「カスタマーサポート」）が提供される
- Always On モードで自然な会話ができる
- 会話履歴が常に表示される（記録として重要）
- エクスポート機能（会話履歴の保存）が提供される

**MECE 定義**: (C2, E1, G2, I1+J1+K2)

### ストーリー UC7: ノイズ環境での音声入力

**As a** ビジネスパーソンまたは一般ユーザー（G2/G4, H2）  
**I want to** ノイズ環境で Push-to-Talk を使用できる  
**So that** 必要な時だけマイクを有効化できる

**受け入れ基準:**

- PTT 状態が明確に表示される（「Space キーを長押し」）
- 接続前に PTT モードが推奨される（ノイズ環境検出時）
- マイク入力が簡単に有効化できる
- 会話履歴が表示される（最小化可能）

**MECE 定義**: (B2/A1, E2, G2/G4, I2+J1+K1)

### ストーリー UC8: 長時間セッション・継続的利用

**As a** ビジネスパーソン（G2, H3）  
**I want to** 長時間セッションで AI と協働し、タスクに応じてシステムプロンプトを動的変更できる  
**So that** 効率的に作業を進められる

**受け入れ基準:**

- セッション時間が表示される
- システムプロンプトの簡単な切り替え UI が提供される
- 会話履歴の検索・フィルタ機能が利用できる
- システムオーディオも必要に応じて活用できる

**MECE 定義**: (B3/C3, E1, G2, I1+J1/J3+K3)

---

## ユーザータイプ別オンボーディングストーリー

### ストーリー H1: 初回ユーザーのオンボーディングフロー

**As a** 初回ユーザー（H1）  
**I want to** 目的と環境に応じた推奨設定でアプリを使い始められる  
**So that** 迷わずに音声会話を開始できる

**受け入れ基準:**

1. **目的選択**（会議アシスタント / 音声メモ / その他）が大きなカード形式で表示される
2. **環境確認**（静かな環境 / ノイズ環境 / 会議中）が選択できる
3. **推奨設定の提示**（目的と環境に基づく）が表示される
4. **推奨設定のプレビュー**が表示される
5. **接続ボタン**が大きく表示される

**関連ユースケース**: UC1, UC2, UC3, UC4, UC5, UC6, UC7

### ストーリー H2: 定期ユーザーのクイック接続

**As a** 定期ユーザー（H2）  
**I want to** 前回設定を復元して素早く接続できる  
**So that** 毎回の設定変更を最小限にできる

**受け入れ基準:**

- 接続ボタンが大きく表示される
- 前回設定の復元オプションが提供される
- クイック設定（最小化）が表示される
- 必要時のみ設定を変更できる

**関連ユースケース**: UC1, UC2, UC4, UC5, UC7

### ストーリー H3: パワーユーザーの直接接続

**As a** パワーユーザー（H3）  
**I want to** 設定を後で変更できる状態で直接接続できる  
**So that** 素早く作業を開始できる

**受け入れ基準:**

- 接続ボタンが大きく表示される
- 詳細設定へのアクセスが小さく表示される（必要時のみ）
- 接続後に設定を変更できる
- システムプロンプトの動的変更が可能（UC8）

**関連ユースケース**: UC3, UC6, UC8

---

## 改善実装計画

### Phase 1: 接続前の UI 改善

**目標**: 初回ユーザーのオンボーディングを改善し、目的と環境に応じた推奨設定を提供する

**実装項目**:

1. **オンボーディングセクションの追加**

   - 目的選択（会議アシスタント / 音声メモ / その他）
   - 環境確認（静かな環境 / ノイズ環境 / 会議中）
   - 推奨設定の提示

2. **クイック設定プレビューの追加**

   - マイク選択状態の表示
   - 入力モード（Always On/PTT/Toggle）の表示
   - システムプロンプトの表示
   - システムオーディオキャプチャの状態表示

3. **接続前のガイダンス表示**

   - アプリの目的と基本的な使い方
   - 初回ユーザー向けの説明

4. **システムプロンプトのプリセット実装**
   - 「会議要約」（UC1）
   - 「タスク管理」（UC2）
   - 「会議アシスタント」（UC3）
   - 「翻訳アシスタント」（UC5）
   - 「カスタマーサポート」（UC6）

**関連ストーリー**: ストーリー 1, ストーリー 2, H1, H2, H3

### Phase 2: 接続中の UI 改善

**目標**: 接続状態とアクティビティを明確に表示し、会話履歴を自動表示する

**実装項目**:

1. **ステータス表示の視覚的改善**

   - 接続状態の明確な表示
   - マイク状態（Always On / PTT / Toggle）の表示
   - AI 話し中インジケーター
   - システムオーディオキャプチャ状態の表示
   - 音声レベル表示（マイク）

2. **会話履歴の自動表示**

   - 接続中は会話履歴を自動表示
   - 会話履歴の最小化・最大化機能
   - 空の時の適切なメッセージ表示
   - スムーズなスクロール

3. **リアルタイムフィードバックの強化**
   - PTT 状態の明確な表示（「Space キーを押して話す」）
   - セッション時間の表示（UC8）

**関連ストーリー**: ストーリー 3, ストーリー 4, UC1, UC2, UC3, UC4, UC7, UC8

### Phase 3: エラーハンドリング改善

**目標**: エラー時のリカバリーを改善し、ユーザーが問題を解決できるようにする

**実装項目**:

1. **エラーメッセージの改善**

   - 分かりやすいエラーメッセージ
   - エラー状態の視覚的表示

2. **リカバリーアクションの追加**
   - エラー解決のためのアクション提示
   - エラーを解消するためのボタン提供

**関連ストーリー**: ストーリー 5

### Phase 4: 高度な機能実装

**目標**: パワーユーザー向けの高度な機能を実装する

**実装項目**:

1. **システムプロンプトの動的変更**（UC8）

   - セッション中のシステムプロンプト切り替え UI

2. **会話履歴の検索・フィルタ機能**（UC8）

   - 長時間セッションでの会話履歴検索
   - フィルタ機能

3. **会話履歴のエクスポート機能**（UC6）
   - 会話履歴の保存機能

**関連ストーリー**: UC6, UC8

---

## 優先度マトリクス

### 最重要ユースケース（優先度順）

1. **会議アシスタント（UC1）** - システムオーディオキャプチャが鍵
2. **音声メモ（UC2）** - シンプルさが鍵
3. **会議中のリアルタイムアシスタント（UC3）** - PTT とシステムオーディオの組み合わせ

### 実装優先度

| フェーズ | 優先度 | 対象ユースケース | 実装期間見積もり |
| -------- | ------ | ---------------- | ---------------- |
| Phase 1  | 🔴 高  | UC1, UC2, UC3    | 2-3 週間         |
| Phase 2  | 🔴 高  | 全ユースケース   | 2-3 週間         |
| Phase 3  | 🟡 中  | 全ユースケース   | 1-2 週間         |
| Phase 4  | 🟢 低  | UC6, UC8         | 2-3 週間         |

---

## まとめ

### ミニマルデザインの原則

1. **接続ボタンを最大限に大きく** - 全ユースケースで最重要
2. **会話履歴を常に表示** - 8/8 ユースケースで使用
3. **システムプロンプトのプリセット** - 主要ユースケースをサポート
4. **環境に応じた推奨設定** - 初回ユーザーのオンボーディングを改善
5. **状態の明確な表示** - 接続状態、マイク状態、システムオーディオ状態

### 次のステップ

1. Phase 1 の実装を開始（接続前の UI 改善）
2. 優先度の高いユースケース（UC1, UC2, UC3）に基づいて UI を最適化
3. システムプロンプトのプリセットを実装
4. オンボーディングフローを改善
