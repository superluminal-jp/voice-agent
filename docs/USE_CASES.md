# ユースケース分析（MECE 構造）

Voice Agent アプリの主要ユースケースを MECE（相互排他的かつ完全網羅的）に分析し、ミニマルデザインへの示唆をまとめます。

## MECE 分析フレームワーク

### 観点の軸（MECE 構造）

#### 軸 1: 使用目的（Why - 価値提供）

**分類**: ユーザーが達成したい価値・目的

- **A. 情報処理・変換**

  - A1. 音声 → テキスト変換（文字起こし）
  - A2. リアルタイム翻訳
  - A3. 会議内容の要約・記録

- **B. 生産性・効率化**

  - B1. ハンズフリー操作・アクセシビリティ
  - B2. 音声ベースのメモ・タスク管理
  - B3. マルチタスク支援（会議中に AI と相談）

- **C. コミュニケーション支援**
  - C1. 会議中のリアルタイムアシスタント
  - C2. カスタマーサポート・FAQ 対応
  - C3. コラボレーション支援

#### 軸 2: 使用環境（Where/When - コンテキスト）

**分類**: 使用場所・タイミング・状況

- **E. 環境特性**

  - E1. 静かな環境（オフィス、自宅）
  - E2. ノイズ環境（カフェ、移動中）
  - E3. 会議中（Zoom/Teams 等の同時使用）

- **F. 時間特性**
  - F1. 短時間セッション（5-15 分）
  - F2. 長時間セッション（30 分以上）
  - F3. 継続的利用（日常的に使用）

#### 軸 3: ユーザータイプ（Who - ペルソナ）

**分類**: ユーザーの属性・専門性

- **G. 専門性**

  - G1. 技術者・開発者
  - G2. ビジネスパーソン
  - G3. アクセシビリティニーズ
  - G4. 一般ユーザー

- **H. 使用頻度**
  - H1. 初回ユーザー
  - H2. 定期ユーザー
  - H3. パワーユーザー

#### 軸 4: 機能利用パターン（How - 使用方法）

**分類**: 主要機能の組み合わせ方

- **I. 入力モード**

  - I1. Always On（ハンズフリー）
  - I2. Push-to-Talk（手動制御）
  - I3. Toggle（切り替え式）

- **J. オーディオソース**

  - J1. マイクのみ
  - J2. システムオーディオのみ（会議音声キャプチャ）
  - J3. マイク + システムオーディオ（ミキシング）

- **K. システムプロンプト**
  - K1. デフォルト（汎用アシスタント）
  - K2. カスタマイズ（特定タスク向け）
  - K3. 動的変更（セッション中に変更）

### MECE マトリクス構造

各ユースケースは以下の組み合わせで定義：

```
ユースケース = (使用目的, 使用環境, ユーザータイプ, 機能利用パターン)
```

**例**:

- 会議アシスタント = (A3, E3, G2, J2+K2)
- 音声メモ = (B2, E1, G2, I1+J1+K1)

---

## 機能マッピング

### 主要機能と MECE 軸の対応関係

| 機能                                 | 軸 1（目的）       | 軸 2（環境） | 軸 4（機能パターン） |
| ------------------------------------ | ------------------ | ------------ | -------------------- |
| リアルタイム音声会話                 | A1, A2, B2, C1, C2 | E1, E2, E3   | I1, I2, I3           |
| システムオーディオキャプチャ         | A3, C1, C3         | E3           | J2, J3               |
| 会話履歴表示                         | A1, A3, B2         | F1, F2, F3   | -                    |
| カスタマイズ可能なシステムプロンプト | A2, A3, B3, C1, C2 | -            | K2, K3               |
| Push-to-Talk                         | B1, C1             | E2, E3       | I2                   |
| Toggle Mode                          | B1, C1             | E2, E3       | I3                   |
| Always On Mode                       | B1, B2             | E1           | I1                   |
| 音声デバイス選択                     | B1, C1             | E1, E2, E3   | J1, J2, J3           |
| リアルタイム文字起こし               | A1, A3             | F1, F2       | -                    |

---

## 主要ユースケースマトリクス

### ユースケース 1: 会議アシスタント（文字起こし・要約）

**MECE 定義**: (A3, E3, G2, J2+K2)

**ペルソナ**:

- ビジネスパーソン（G2）
- 定期ユーザー（H2）
- Zoom/Teams 会議に頻繁に参加する

**シナリオ**:

1. Zoom/Teams 会議中にシステムオーディオキャプチャを開始
2. 会議の音声をリアルタイムで文字起こし
3. 会議終了後、会話履歴を確認して要点を把握
4. 必要に応じて AI に要約を依頼

**必要な機能**:

- ✅ システムオーディオキャプチャ（J2）
- ✅ 会話履歴表示
- ✅ カスタマイズシステムプロンプト（会議要約用）（K2）
- ⚠️ マイク入力（会議中は不要）

**機能重要度**:

- 🔴 必須: システムオーディオキャプチャ、会話履歴
- 🟡 重要: カスタマイズシステムプロンプト
- 🟢 任意: マイク入力、PTT

**システムプロンプトテンプレート**:

- **テンプレート ID**: `comprehensive_meeting_assistant`
- **推奨入力モード**: `push_to_talk`
- **推奨オーディオソース**: `mixed`（システムオーディオ + マイク）
- **使用タイミング**:
  - Zoom/Teams などのオンライン会議中
  - 会議の文字起こしとリアルタイム要約が必要な場合
  - 会議中に AI に質問や意見を求めたい場合
  - 司会進行の支援が必要な場合
  - 会議に集中しながら後で内容を確認したい場合
- **注意事項**:
  - システムオーディオとマイクの両方をキャプチャすることで、会議内容を理解しながら質問できます
  - Push-to-Talk モードを使用して、必要な時だけマイクを有効化してください
  - 「要約して」「意見を聞かせて」「司会進行をお願い」などと話しかけると、AI が応答します
  - 会話履歴を常に表示して、リアルタイムで内容を確認できます
  - 会議終了後も、会話履歴から要点を確認できます

**ミニマルデザイン最適化**:

- 接続前に「システムオーディオキャプチャ」を推奨
- 会話履歴を常に表示（接続中）
- システムプロンプトのプリセット（「統合会議アシスタント」）を提供

---

### ユースケース 2: 音声メモ・タスク管理

**MECE 定義**: (B2, E1, G2/G4, I1+J1+K1/K2)

**ペルソナ**:

- ビジネスパーソン（G2）または一般ユーザー（G4）
- 定期ユーザー（H2）
- 手が離せない状況でメモを取りたい

**シナリオ**:

1. 作業中にアイデアやタスクを音声で記録
2. Always On モードでハンズフリー操作
3. AI にタスクを整理・優先順位付けしてもらう
4. 会話履歴から後で確認

**必要な機能**:

- ✅ Always On モード（I1）
- ✅ マイク入力（J1）
- ✅ 会話履歴表示
- 🟡 カスタマイズシステムプロンプト（タスク管理用）（K2）

**機能重要度**:

- 🔴 必須: Always On、マイク入力、会話履歴
- 🟡 重要: カスタマイズシステムプロンプト
- 🟢 不要: システムオーディオキャプチャ、PTT

**システムプロンプトテンプレート**:

- **テンプレート ID**: `thinking_task_assistant`
- **推奨入力モード**: `always_on`
- **推奨オーディオソース**: `mic`
- **使用タイミング**:
  - 作業中にアイデアが浮かんだ時
  - タスクを音声で記録し、思考を深めたい時
  - タスクの整理と優先順位付けを、自分自身で考えながら行いたい時
  - 問題解決の思考プロセスを促進したい時
- **注意事項**:
  - Always On モードで自然に話しかけることができます
  - AI は直接答えを与えるのではなく、質問で思考を促進します
  - 「タスクを整理して」と依頼すると、ソクラテス的質問法で思考を促進します
  - 会話履歴から後で確認・編集できます

**ミニマルデザイン最適化**:

- 接続ボタンを大きく表示（ワンクリックで開始）
- 会話履歴を常に表示
- システムプロンプトのプリセット（「思考パートナー・タスク管理」）を提供

---

### ユースケース 3: 会議中のリアルタイムアシスタント

**MECE 定義**: (C1, E3, G2, J3+I2+K2)

**ペルソナ**:

- ビジネスパーソン（G2）
- パワーユーザー（H3）
- 会議中に AI に質問・相談したい

**シナリオ**:

1. Zoom/Teams 会議中にシステムオーディオとマイクを同時キャプチャ
2. 会議の内容を聞きながら、PTT で AI に質問
3. AI が会議内容を理解した上で回答・提案
4. 会議の流れを妨げずに情報を得る

**必要な機能**:

- ✅ システムオーディオ + マイクミキシング（J3）
- ✅ Push-to-Talk（I2）
- ✅ カスタマイズシステムプロンプト（会議アシスタント用）（K2）
- ✅ 会話履歴表示

**機能重要度**:

- 🔴 必須: システムオーディオ + マイクミキシング、PTT
- 🟡 重要: カスタマイズシステムプロンプト
- 🟢 任意: 会話履歴（リアルタイム重視）

**システムプロンプトテンプレート**:

- **テンプレート ID**: `comprehensive_meeting_assistant`（UC1 と共通）
- **推奨入力モード**: `push_to_talk`
- **推奨オーディオソース**: `mixed`（システムオーディオ + マイク）
- **使用タイミング**:
  - Zoom/Teams などのオンライン会議中
  - 会議中に AI に質問や意見を求めたい場合
  - 会議の流れを妨げずに情報を得たい場合
  - 司会進行の支援が必要な場合
- **注意事項**:
  - システムオーディオとマイクの両方をキャプチャすることで、会議内容を理解しながら質問できます
  - Push-to-Talk モードを使用して、必要な時だけマイクを有効化してください
  - 「要約して」「意見を聞かせて」「司会進行をお願い」などと話しかけると、AI が応答します
  - 会話履歴を常に表示して、リアルタイムで内容を確認できます

**ミニマルデザイン最適化**:

- PTT 状態を明確に表示（「Space キーを押して話す」）
- システムオーディオキャプチャ状態を表示
- 会話履歴は最小化（必要時のみ表示）

---

### ユースケース 4: アクセシビリティ・ハンズフリー操作

**MECE 定義**: (B1, E1, G3, I1+J1+K1)

**ペルソナ**:

- アクセシビリティニーズ（G3）
- 定期ユーザー（H2）
- キーボードやマウス操作が困難

**シナリオ**:

1. 音声のみでアプリを操作
2. Always On モードで自然な会話
3. デフォルトシステムプロンプトで汎用的な支援
4. 会話履歴で確認・参照

**必要な機能**:

- ✅ Always On モード（I1）
- ✅ マイク入力（J1）
- ✅ 会話履歴表示
- ✅ キーボードナビゲーション対応

**機能重要度**:

- 🔴 必須: Always On、マイク入力、アクセシビリティ対応
- 🟡 重要: 会話履歴
- 🟢 不要: システムオーディオ、PTT、カスタマイズ

**システムプロンプトテンプレート**:

- **テンプレート ID**: `default`
- **推奨入力モード**: `always_on`
- **推奨オーディオソース**: `mic`
- **使用タイミング**:
  - 特定の用途に限定しない汎用的な使用
  - 様々なタスクに対応したい時
  - カスタマイズが必要ない時

**ミニマルデザイン最適化**:

- 接続ボタンを大きく、明確に表示
- 音声フィードバック（接続状態を音声で通知）
- シンプルな UI（余計な要素を削減）

---

### ユースケース 5: リアルタイム翻訳アシスタント

**MECE 定義**: (A2, E1/E3, G2/G4, I1+J1/J2+K2)

**ペルソナ**:

- ビジネスパーソン（G2）または一般ユーザー（G4）
- 定期ユーザー（H2）
- 多言語コミュニケーションが必要

**シナリオ**:

1. 外国語の会話をリアルタイムで翻訳
2. 会議中の翻訳（システムオーディオ）または直接会話（マイク）
3. カスタマイズシステムプロンプトで翻訳モードに設定
4. 会話履歴で翻訳内容を確認

**必要な機能**:

- ✅ リアルタイム音声会話
- ✅ カスタマイズシステムプロンプト（翻訳用）（K2）
- ✅ 会話履歴表示
- 🟡 システムオーディオ（会議翻訳の場合）

**機能重要度**:

- 🔴 必須: リアルタイム会話、カスタマイズシステムプロンプト
- 🟡 重要: 会話履歴、システムオーディオ（用途による）
- 🟢 任意: PTT（環境による）

**システムプロンプトテンプレート**:

- **テンプレート ID**: `translation_assistant`
- **推奨入力モード**: `always_on`
- **推奨オーディオソース**: `mic`（直接会話の場合）または `system_audio`（会議翻訳の場合）
- **使用タイミング**:
  - 外国語の会話を理解したい時
  - 多言語会議で翻訳が必要な時
  - リアルタイムで翻訳を確認したい時
- **注意事項**:
  - 会話履歴で翻訳前後の対比を確認できます
  - システムオーディオキャプチャを使用すると、会議の翻訳も可能です
  - 言語の指定が必要な場合は、システムプロンプトに追加してください
  - 翻訳は「原文: [原文] → 翻訳: [翻訳]」の形式で提示されます

**ミニマルデザイン最適化**:

- システムプロンプトのプリセット（「リアルタイム翻訳アシスタント」）を提供
- 会話履歴で翻訳前後の対比を表示
- 言語選択を簡単に切り替え可能に

---

### ユースケース 6: カスタマーサポート・FAQ 対応

**MECE 定義**: (C2, E1, G2, I1+J1+K2)

**ペルソナ**:

- ビジネスパーソン（G2）
- パワーユーザー（H3）
- 顧客対応や FAQ 回答を効率化したい

**シナリオ**:

1. カスタマイズシステムプロンプトで FAQ 知識を設定
2. Always On モードで自然な会話
3. 顧客の質問に AI が回答
4. 会話履歴で対応内容を記録

**必要な機能**:

- ✅ カスタマイズシステムプロンプト（FAQ 用）（K2）
- ✅ Always On モード（I1）
- ✅ 会話履歴表示
- ✅ マイク入力（J1）

**機能重要度**:

- 🔴 必須: カスタマイズシステムプロンプト、Always On
- 🟡 重要: 会話履歴
- 🟢 不要: システムオーディオ、PTT

**システムプロンプトテンプレート**:

- **テンプレート ID**: `default`（カスタマイズ推奨）
- **推奨入力モード**: `always_on`
- **推奨オーディオソース**: `mic`
- **注意事項**:
  - カスタマイズシステムプロンプトで FAQ 知識を設定することで、顧客対応を効率化できます
  - Always On モードで自然な会話が可能です
  - 会話履歴を常に表示して、対応内容を記録として残せます

**ミニマルデザイン最適化**:

- システムプロンプトのカスタマイズ機能を提供
- 会話履歴を常に表示（記録として重要）
- エクスポート機能（会話履歴の保存）

---

### ユースケース 7: ノイズ環境での音声入力

**MECE 定義**: (B2/A1, E2, G2/G4, I2+J1+K1)

**ペルソナ**:

- ビジネスパーソン（G2）または一般ユーザー（G4）
- 定期ユーザー（H2）
- カフェや移動中などノイズ環境で使用

**シナリオ**:

1. ノイズ環境で Push-to-Talk を使用
2. 必要な時だけマイクを有効化
3. 音声をテキストに変換して記録
4. 会話履歴で確認

**必要な機能**:

- ✅ Push-to-Talk（I2）
- ✅ マイク入力（J1）
- ✅ 会話履歴表示
- 🟡 ノイズ抑制機能（ブラウザ標準）

**機能重要度**:

- 🔴 必須: Push-to-Talk、マイク入力
- 🟡 重要: 会話履歴
- 🟢 不要: システムオーディオ、Always On

**システムプロンプトテンプレート**:

- **テンプレート ID**: `default`
- **推奨入力モード**: `push_to_talk`
- **推奨オーディオソース**: `mic`

**ミニマルデザイン最適化**:

- PTT 状態を明確に表示（「Space キーを長押し」）
- 接続前に PTT モードを推奨（ノイズ環境検出時）
- 会話履歴を最小化（必要時のみ表示）

---

### ユースケース 8: 長時間セッション・継続的利用

**MECE 定義**: (B3/C3, E1, G2, I1+J1/J3+K3)

**ペルソナ**:

- ビジネスパーソン（G2）
- パワーユーザー（H3）
- 長時間 AI と協働作業

**シナリオ**:

1. 長時間セッションで AI と協働
2. タスクに応じてシステムプロンプトを動的変更
3. 会話履歴を参照しながら作業
4. 必要に応じてシステムオーディオも活用

**必要な機能**:

- ✅ 長時間セッション対応
- ✅ システムプロンプトの動的変更（K3）
- ✅ 会話履歴表示
- 🟡 システムオーディオ（用途による）

**機能重要度**:

- 🔴 必須: システムプロンプトの動的変更、会話履歴
- 🟡 重要: 長時間セッション対応、システムオーディオ
- 🟢 任意: 入力モード（用途による）

**システムプロンプトテンプレート**:

- **テンプレート ID**: 動的変更（タスクに応じて適切なテンプレートを選択）
- **推奨入力モード**: 用途による（`always_on`、`push_to_talk`、`toggle`）
- **推奨オーディオソース**: 用途による（`mic`、`system_audio`、`mixed`）
- **注意事項**:
  - タスクに応じてシステムプロンプトを動的に変更できます
  - 会話履歴の検索・フィルタ機能を活用して、長時間セッションでも効率的に作業できます

**ミニマルデザイン最適化**:

- セッション時間の表示
- システムプロンプトの簡単な切り替え UI
- 会話履歴の検索・フィルタ機能

---

## 機能重要度マップ

### 全ユースケース共通の重要機能

| 機能                 | 重要度  | 理由                   |
| -------------------- | ------- | ---------------------- |
| リアルタイム音声会話 | 🔴 必須 | 全ユースケースの基盤   |
| 会話履歴表示         | 🟡 重要 | 8/8 ユースケースで使用 |
| 接続/切断            | 🔴 必須 | 基本操作               |

### ユースケース別の重要機能

| 機能                           | UC1 | UC2 | UC3 | UC4 | UC5 | UC6 | UC7 | UC8 |
| ------------------------------ | --- | --- | --- | --- | --- | --- | --- | --- |
| システムオーディオキャプチャ   | 🔴  | 🟢  | 🔴  | 🟢  | 🟡  | 🟢  | 🟢  | 🟡  |
| Always On モード               | 🟢  | 🔴  | 🟢  | 🔴  | 🟡  | 🔴  | 🟢  | 🟡  |
| Push-to-Talk                   | 🟢  | 🟢  | 🔴  | 🟢  | 🟡  | 🟢  | 🔴  | 🟢  |
| カスタマイズシステムプロンプト | 🟡  | 🟡  | 🟡  | 🟢  | 🔴  | 🔴  | 🟢  | 🔴  |
| システムプロンプトの動的変更   | 🟢  | 🟢  | 🟢  | 🟢  | 🟢  | 🟢  | 🟢  | 🔴  |
| マイク入力                     | 🟢  | 🔴  | 🟡  | 🔴  | 🟡  | 🔴  | 🔴  | 🟡  |

凡例: 🔴 必須 | 🟡 重要 | 🟢 任意/不要

---

## デザイン最適化指針

### ミニマルデザインでの優先表示要素

#### 接続前（Pre-Connection）

**必須要素**:

1. **接続ボタン**（大きく、目立つ）
2. **クイック設定プレビュー**（マイク、入力モード、システムプロンプト）
3. **オンボーディングガイダンス**（初回ユーザー向け）

**重要要素**:

- システムオーディオキャプチャの推奨（会議アシスタント用途）
- 入力モードの推奨（環境に応じて）

**任意要素**:

- 詳細設定（ダイアログ内）

#### 接続中（Connected）

**必須要素**:

1. **接続状態表示**（明確な視覚的フィードバック）
2. **マイク状態表示**（Always On / PTT / Toggle）
3. **会話履歴**（自動表示、最小化可能）

**重要要素**:

- AI 話し中インジケーター
- システムオーディオキャプチャ状態
- 音声レベル表示（マイク）

**任意要素**:

- 詳細設定（必要時のみ表示）

#### エラー時

**必須要素**:

1. **エラーメッセージ**（分かりやすい説明）
2. **リカバリーアクション**（具体的な解決方法）

---

### ユースケース別の UI 最適化案

#### 会議アシスタント（UC1）

**最適化ポイント**:

- 接続前に「システムオーディオキャプチャ」を大きく表示
- システムプロンプトのプリセット（「会議要約」）を提供
- 会話履歴を常に表示（折りたたみ可能）

**UI 要素の優先順位**:

1. システムオーディオキャプチャボタン
2. 会話履歴
3. システムプロンプト設定

#### 音声メモ（UC2）

**最適化ポイント**:

- 接続ボタンを最大限に大きく表示
- Always On モードをデフォルト
- 会話履歴を常に表示

**UI 要素の優先順位**:

1. 接続ボタン
2. 会話履歴
3. システムプロンプト設定（タスク管理用プリセット）

#### 会議中のリアルタイムアシスタント（UC3）

**最適化ポイント**:

- PTT 状態を明確に表示（「Space キーを押して話す」）
- システムオーディオキャプチャ状態を表示
- 会話履歴は最小化（必要時のみ表示）

**UI 要素の優先順位**:

1. PTT 状態表示
2. システムオーディオキャプチャ状態
3. 会話履歴（最小化）

#### アクセシビリティ（UC4）

**最適化ポイント**:

- 接続ボタンを大きく、明確に表示
- 音声フィードバック（接続状態を音声で通知）
- シンプルな UI（余計な要素を削減）

**UI 要素の優先順位**:

1. 接続ボタン（最大）
2. 会話履歴
3. 音声フィードバック

---

### オンボーディングフロー最適化

#### 初回ユーザー（H1）

**推奨フロー**:

1. **目的選択**（会議アシスタント / 音声メモ / その他）
2. **環境確認**（静かな環境 / ノイズ環境 / 会議中）
3. **推奨設定の提示**（目的と環境に基づく）
4. **接続**

**UI 要素**:

- 目的選択ボタン（大きなカード形式）
- 環境選択ボタン
- 推奨設定のプレビュー
- 接続ボタン

#### 定期ユーザー（H2）

**推奨フロー**:

1. **前回設定の復元**（オプション）
2. **クイック設定変更**（必要時のみ）
3. **接続**

**UI 要素**:

- 接続ボタン（大きく）
- クイック設定（最小化）
- 前回設定の復元オプション

#### パワーユーザー（H3）

**推奨フロー**:

1. **直接接続**（設定は後で変更可能）
2. **詳細設定へのアクセス**（必要時）

**UI 要素**:

- 接続ボタン（大きく）
- 詳細設定へのアクセス（小さく）

---

## まとめ

### 最重要ユースケース（優先度順）

1. **会議アシスタント（UC1）** - システムオーディオキャプチャが鍵
2. **音声メモ（UC2）** - シンプルさが鍵
3. **会議中のリアルタイムアシスタント（UC3）** - PTT とシステムオーディオの組み合わせ

### ミニマルデザインの原則

1. **接続ボタンを最大限に大きく** - 全ユースケースで最重要
2. **会話履歴を常に表示** - 8/8 ユースケースで使用
3. **システムプロンプトのプリセット** - 主要ユースケースをサポート
   - `comprehensive_meeting_assistant`（UC1, UC3）
   - `thinking_task_assistant`（UC2）
   - `translation_assistant`（UC5）
   - `default`（UC4, UC6, UC7）
4. **環境に応じた推奨設定** - 初回ユーザーのオンボーディングを改善
5. **状態の明確な表示** - 接続状態、マイク状態、システムオーディオ状態

### 次のステップ

1. 優先度の高いユースケース（UC1, UC2, UC3）に基づいて UI を最適化
2. システムプロンプトのプリセットを実装
3. オンボーディングフローを改善
4. 環境検出機能の追加（ノイズ環境、会議中など）
